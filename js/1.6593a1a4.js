"use strict";(self["webpackChunk_0_4"]=self["webpackChunk_0_4"]||[]).push([[1],{3402:(e,t,l)=>{l.d(t,{gq:()=>r,rr:()=>n});var o=l(2490),a=l(3277),s=l(9040),i=l(1741);async function r(e){console.log(e.files[0]);const t=e.files[0],l={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};let r=o.fAuth.currentUser.uid;try{const n=await(0,i.Z)(t,l),u=(0,a.iH)(o.fS,"/images/"+r),d=(await(0,a.KV)(u,n).then((()=>{console.log("Uploaded a blob or file!")})),await(0,a.Jt)(u));console.log(d);const m=(0,s.iH)(o.fDb,"/images/"+o.fAuth.currentUser.uid);await(0,s.t8)(m,{ID:currentUserId,Name:e.name,Url:d})}catch(n){console.log(n)}}const n=async()=>{const e=(0,s.iH)(o.fDb,"images/"+o.fAuth.currentUser.uid),t=await(0,s.U2)(e).then((e=>{}));console.log(t)}},8001:(e,t,l)=>{l.r(t),l.d(t,{default:()=>E});var o=l(3673),a=l(2323);const s=(0,o.Uk)("UCSC 1st Year DashBoard"),i={class:"q-pa-sm absolute-top-right"},r={class:"q-ma-sm"},n=["src"],u=(0,o.Uk)("Click to Edit Profile");function d(e,t,l,d,m,c){const g=(0,o.up)("q-toolbar-title"),p=(0,o.up)("q-btn"),h=(0,o.up)("q-tooltip"),f=(0,o.up)("q-avatar"),w=(0,o.up)("edit-profile"),k=(0,o.up)("q-dialog"),q=(0,o.up)("q-toolbar"),b=(0,o.up)("q-header"),U=(0,o.up)("q-footer"),_=(0,o.up)("router-view"),y=(0,o.up)("q-page-container"),v=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(v,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:(0,a.C_)(this.$q.dark.mode?"row bg-dark":"row")},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"absolute-top-left q-ma-sm q-pa-sm"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(p,{class:"absolute-center",outlined:"",style:(0,a.j5)(this.$q.dark.mode?"color: goldenrod":"color: white"),label:this.$q.dark.mode?"Dark":"light",icon:this.$q.dark.mode?"dark_mode":"light_mode",onClick:e.ToggleDark},null,8,["style","label","icon","onClick"]),(0,o._)("div",i,[(0,o._)("span",r,(0,a.zw)(e.GetUsername),1),(0,o.Wm)(f,{style:{"margin-left":"10px"},class:"cursor-pointer",size:"2.5rem",onClick:t[0]||(t[0]=t=>e.triggers=!0)},{default:(0,o.w5)((()=>[(0,o._)("img",{src:null!=e.getpic?e.getpic:"https://cdn.quasar.dev/img/avatar.png"},null,8,n),null!=e.getpic?((0,o.wg)(),(0,o.j4)(h,{key:0,class:"bg-positive text-black"},{default:(0,o.w5)((()=>[u])),_:1})):(0,o.kq)("",!0)])),_:1}),"dash"===e.page?((0,o.wg)(),(0,o.j4)(p,{key:0,outline:"",icon:"lock_open",label:"SignOut",onClick:e.LogOut},null,8,["onClick"])):(0,o.kq)("",!0),e.IsSuperAdmin&&"/SuperAdmin"!=e.$route.fullPath?((0,o.wg)(),(0,o.j4)(p,{key:1,style:{"margin-left":"10px"},label:"Super",to:"/SuperAdmin"})):(0,o.kq)("",!0),e.IsSuperAdmin&&"/SuperAdmin"===e.$route.fullPath?((0,o.wg)(),(0,o.j4)(p,{key:2,style:{"margin-left":"10px"},label:"Dash",to:"/dash"})):(0,o.kq)("",!0),(0,o.Wm)(k,{modelValue:e.triggers,"onUpdate:modelValue":t[1]||(t[1]=t=>e.triggers=t),persistent:"",maximized:e.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1},8,["modelValue","maximized"])])])),_:1},8,["class"])])),_:1}),(0,o.Wm)(U,{class:(0,a.C_)(this.$q.dark.mode?"row bg-dark":"row")},{default:(0,o.w5)((()=>[e.close?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)((this.$q.dark.mode?"bg-dark ":"bg-light ")+"text-h7 text-pink absolute-bottom-right q-ma-lg")},(0,a.zw)(e.Days+"D : "+e.hours+"H : "+e.minutes+"M : "+e.seconds+"S")+" Time Left ",3))])),_:1},8,["class"]),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_)])),_:1})])),_:1})}var m=l(3617);l(3402);const c=(0,o.Uk)("Close"),g={style:{width:"70%"},class:"q-ma-sm"},p=(0,o.Uk)(" New User Name "),h={style:{width:"70%"},class:"flex flex-center"};function f(e,t,l,a,s,i){const r=(0,o.up)("q-space"),n=(0,o.up)("q-tooltip"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-bar"),m=(0,o.up)("q-img"),f=(0,o.up)("q-icon"),w=(0,o.up)("q-file"),k=(0,o.up)("q-input"),q=(0,o.up)("q-card-section"),b=(0,o.up)("q-card"),U=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{class:"bg-primary text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r),(0,o.wy)(((0,o.wg)(),(0,o.j4)(u,{dense:"",flat:"",icon:"close"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"bg-white text-primary"},{default:(0,o.w5)((()=>[c])),_:1})])),_:1})),[[U]])])),_:1}),(0,o.Wm)(q,{class:"flex flex-center column"},{default:(0,o.w5)((()=>[null==a.model?((0,o.wg)(),(0,o.j4)(m,{key:0,src:e.User.Url,"spinner-color":"red",ratio:16/9,style:{width:"70%"}},null,8,["src"])):(0,o.kq)("",!0),null!=a.model?((0,o.wg)(),(0,o.j4)(m,{key:1,src:a.imageurl,"spinner-color":"red",ratio:16/9,style:{width:"70%"}},null,8,["src"])):(0,o.kq)("",!0),(0,o.Wm)(w,{class:"bg-positive q-ma-md",label:"Add New Profile Image",clearable:"",standout:"",modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=e=>a.model=e),style:{width:"70%"},onChange:t[1]||(t[1]=e=>a.updateFile())},{append:(0,o.w5)((()=>[(0,o.Wm)(f,{name:"camera"})])),_:1},8,["modelValue"]),(0,o._)("div",g,[p,(0,o.Wm)(k,{modelValue:a.Username,"onUpdate:modelValue":t[2]||(t[2]=e=>a.Username=e),label:e.User.name,dense:""},null,8,["modelValue","label"])]),(0,o._)("div",h,[(0,o.wy)((0,o.Wm)(u,{class:"q-ma-lg bg-secondary",label:"Update Profile",onClick:i.Update_Profile},null,8,["onClick"]),[[U]])])])),_:1})])),_:1})])}l(71),l(7965),l(6016);var w=l(1959),k=l(8825);const q={computed:{...(0,m.Se)("stores",["User","GetUsername"])},setup(){const e=(0,k.Z)(),t=(0,w.iH)(null),l=(0,w.iH)(""),a=(0,w.iH)("");return(0,o.YP)(t,(e=>{console.log(e),null==e?console.log(e):(console.log(a.value),a.value=URL.createObjectURL(e))})),{maximizedToggle:(0,w.iH)(!1),model:t,q:e,Username:l,imageurl:a,updateFile(){console.log("updateed"),a.value=URL.createObjectURL(t.value),console.log(a.value)}}},methods:{...(0,m.nv)("stores",["ChangeProfilename","ChangeProfilePicture"]),Update_Profile(){console.log("Update_Profile",this.Username),console.log(this.model),null!=this.model&&this.ChangeProfilePicture({file:this.model}),""!=this.Username&&this.ChangeProfilename({name:this.Username}),this.q.notify({color:"positive",textColor:"white",message:"Profile Updated"}),console.log(this.Username,this.model)}}};var b=l(4260),U=l(151),_=l(846),y=l(2025),v=l(8240),C=l(8870),Z=l(5589),x=l(4027),W=l(4974),Q=l(4554),S=l(4689),P=l(677),D=l(7518),T=l.n(D);const H=(0,b.Z)(q,[["render",f]]),j=H;T()(q,"components",{QCard:U.Z,QBar:_.Z,QSpace:y.Z,QBtn:v.Z,QTooltip:C.Z,QCardSection:Z.Z,QImg:x.Z,QFile:W.Z,QIcon:Q.Z,QInput:S.Z}),T()(q,"directives",{ClosePopup:P.Z});const A=(0,o.aZ)({name:"MainLayout",setup(){const e=(0,w.iH)(!1);return{triggers:(0,w.iH)(!1),maximizedToggle:(0,w.iH)(!1),close:e}},computed:{...(0,m.Se)("stores",["IsSuperAdmin","getpic","GetUsername","SecondSemExam"]),page(){return"/"===this.$route.fullPath?"/":"dash"}},components:{EditProfile:j},data(){return{hours:0,minutes:0,seconds:0,Days:0}},mounted(){this.setTime()},methods:{...(0,m.nv)("stores",["LogOut"]),ToggleDark(){console.log(this.$q.dark.mode),this.$q.dark.toggle()},closepop(){this.close=!0,setTimeout((()=>{this.close=!1}),5e3)},setTime(){setInterval((()=>{var e=new Date,t=new Date(this.SecondSemExam.Date),l=t.getTime()-e.getTime(),o=Math.round(l/864e5),a=Math.round(l/36e5)%24,s=Math.round(l/6e4)%60,i=Math.round(l/1e3)%60;this.Days=o,this.hours=a,this.minutes=s,this.seconds=i}),1e3)},checkSingleDigit(e){return("0"+e).slice(-2)}}});var $=l(3066),I=l(3812),L=l(9570),V=l(3747),z=l(5096),M=l(5926),O=l(1762),B=l(2652);const F=(0,b.Z)(A,[["render",d]]),E=F;T()(A,"components",{QLayout:$.Z,QHeader:I.Z,QToolbar:L.Z,QToolbarTitle:V.Z,QBtn:v.Z,QAvatar:z.Z,QTooltip:C.Z,QDialog:M.Z,QFooter:O.Z,QPageContainer:B.Z})}}]);